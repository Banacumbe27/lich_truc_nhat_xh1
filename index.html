<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·ª±c nh·∫≠t h√¥m nay</title>
    <style>
        @keyframes fade-in{
            0%{
                opacity:0;
                transform: translateY(100%);
            }
            100%{
                opacity:1;
                transform: translateY(0%);

            }
        }
        body {
            overflow:hidden;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            animation:1s ease-in-out fade-in;
        }
        h1, h2 {
            text-align: center;
            margin: 10px 0;
        }
        h1 {
            font-size: 4vmax;
        }
        h2 {
            font-size: 6vmax;
            color: #4CAF50;
        }
        #credit{
            font-size:2.5vmax;
            font-weight: bold;
        }
        #face{
            width:30vw;
            height:20vh;
            content:url('face.jpg');
            border-radius: 10%;
        }
    </style>
</head>
<body>
<h1 style="position:absolute;top:0; font-size:4vmax">-L·ªãch tr·ª±c nh·∫≠t-</h1>
<h1></h1>
<h1><a href="trucnhat_table.html" target="_blank">Xem danh s√°ch tr·ª±c nh·∫≠t full t·∫°i ƒë√¢y</a></h1>
<img id="face">
<h2 id="dutyStudents">Loading...</h2>
<p id="credit">"Ch√∫c c√°c b·∫°n tr·ª±c nh·∫≠t nghi√™m t√∫c v√† ƒë·∫ßy ƒë·ªß, vui v·∫ª, kh√¥ng qu·∫°uüòÄ" -Minh Duy l·ªõp ph√≥ k·ª∑ lu·∫≠t c·∫£m ∆°n s·ª± h·ª£p t√°c c·ªßa c√°c b·∫°n.</p>
<script>
    const dayOfWeek = ["Th·ª© hai", "Th·ª© ba", "Th·ª© t∆∞", "Th·ª© nƒÉm", "Th·ª© s√°u"];
    const all_dayOfWeek=["Ch·ªß Nh·∫≠t","Th·ª© hai", "Th·ª© ba", "Th·ª© t∆∞", "Th·ª© nƒÉm", "Th·ª© s√°u","Th·ª© b·∫£y"];
    const studentPairs = [
        ["Nguy·ªÖn Minh √Ånh", "Hu·ª≥nh L√™ Ng√¢n Giang"],
        ["Ng√¥ Anh Th∆∞", "ƒê·∫∑ng Minh Ng√¢n"],
        ["Th·∫ßy Tr∆∞·ªùng", "L·∫°i Kh√°nh V√¢n Lam"],
        ["L√™ Thanh Ph∆∞∆°ng", "V√µ B·∫£o Tr√¢n"],
        ["Tr∆∞∆°ng Kh·∫Øc Ng·ªçc Th·∫°ch", "V≈© Nguy·ªÖn Tr√∫c Qu√¢n"],
        ["H·ªì Minh Khang", "ƒê·∫∑ng T·∫•n Ph√°t"],
        ["Nguy·ªÖn Th·∫ø Gia Huy", "V≈© ƒê·ª©c Huy·ªÅn"],
        ["Nguy·ªÖn C√¥ng Minh Quang", "Phan Nguy·ªÖn ƒêƒÉng Khoa"],
        ["ƒêinh Thi·ªán Nh√¢n", "Tr·∫ßn Ho√†ng B√°ch"],
        ["Tr·ªãnh Tu·∫•n H∆∞ng", "Nguy·ªÖn Ng·ªçc H√¢n"],
        ["Nguy·ªÖn ƒê√¨nh Thi√™n Ph∆∞·ªõc", "Hu·ª≥nh Ph√∫c Quang Tu·∫•n"],
        ["Ho√†ng Ch√¢n Nh∆∞", "Nguy·ªÖn L√™ Minh Duy"],
        ["Th√°i Quang Khang", "Nguy·ªÖn Ph·∫°m Quang Vinh"],
        ["H√† Qu·ª≥nh H∆∞∆°ng", "L√™ Minh Kh√¥i"],
        ["ƒê√†o Th·∫£o Linh", "L√™ H·ªìng H·∫°nh"],
        ["Nguy·ªÖn Minh Khu√™", "Tr·∫ßn Ph·∫°m Ph∆∞∆°ng Linh"],
        ["Hu·ª≥nh Tr·∫ßn Th·∫°ch Tr√∫c", "ƒê·ªó Nh∆∞ Xu√¢n Ho√†ng"],
        ["Hu·ª≥nh Tr·∫ßn Ph√∫c Nguy√™n", "Nguy·ªÖn T·∫•n Tri"]
    ];

    let startDate = new Date("2024-09-16");
    let endDate = new Date("2025-06-30");
    let currentDate = new Date(); 
    let schedule = [];

    // Special case for September 13, 2024
    let specialDate = new Date("2024-09-13");

    let tempDate = new Date(startDate);
    document.querySelectorAll('h1')[1].textContent=`${all_dayOfWeek[currentDate.getDay()]},${currentDate.getDate()}/${currentDate.getMonth()+1}/${currentDate.getFullYear()}`;
    while (tempDate <= endDate) {
        if (tempDate.getDay() >= 1 && tempDate.getDay() <= 5) {  // Monday to Friday
            let pair = studentPairs.shift();
            schedule.push({
                date: new Date(tempDate),
                pair: pair
            });
            studentPairs.push(pair);  // Re-append pair to end of list
        }
        tempDate.setDate(tempDate.getDate() + 1);
    }

    // Function to check if two dates are the same (ignoring time)
    function sameDay(d1, d2) {
        return d1.getFullYear() === d2.getFullYear() &&
               d1.getMonth() === d2.getMonth() &&
               d1.getDate() === d2.getDate();
    }

    let todayPair = null;
    let isWeekend = currentDate.getDay() === 6 || currentDate.getDay() === 0;  // 6 = Saturday, 0 = Sunday

    let dutyStudentsElement = document.getElementById("dutyStudents");
    if (sameDay(currentDate, specialDate)) {
        dutyStudentsElement.innerText = "H√¥m nay th·∫ßy tr·ª±c. Web n√†y s·∫Ω t√≠nh ng∆∞·ªùi tr·ª±c nh·∫≠t t·ª´ Th·ª© hai ng√†y 16/9.";
    } else if (isWeekend) {
        dutyStudentsElement.innerText = "H√¥m nay l√† cu·ªëi tu·∫ßn, kh√¥ng c√≥ ai tr·ª±c.";
    } else {
        // Loop through the schedule to find today's pair
        for (let entry of schedule) {
            if (sameDay(entry.date, currentDate)) {
                todayPair = entry.pair;
                break;
            }
        }

        // Update the webpage with today's cleaning duty students or a default message
        if (todayPair) {
            dutyStudentsElement.innerText = `H√¥m nay b·∫°n ${todayPair[0]} v√† b·∫°n ${todayPair[1]} tr·ª±c nh·∫≠t nh√©!`;
        } else {
            dutyStudentsElement.innerText = "Kh√¥ng c√≥ ng∆∞·ªùi tr·ª±c h√¥m nay.";
        }
    }
</script>

</body>
</html>
